<!doctype html>
<link rel="import" href="../../polymer/polymer-element.html">
<link rel="import" href="../identicon-mixin.html">

<dom-module id="identicon-element">
	<template>
		<style>
			#image {
				width: 100px;
				height: 100px;
			}
		</style>
		<div id="image"></div>
	</template>

	<script>
		class IdenticonElement extends Polymer.IdenticonMixin(Polymer.Element) {
			static get is() {
				return 'identicon-element';
			}

			static get properties() {
				return {
					value: {
						type: String,
						notify: true,
						value: 'hello',
						observer: '_onValueChanged',
					},
				};
			}

			_onValueChanged(value) {
				const dataUrl = this.generateIdenticonDataUrl(value, 100);
				this.$.image.style.backgroundImage = `url('${dataUrl}')`;
			}
		}
		window.customElements.define(IdenticonElement.is, IdenticonElement);
	</script>
</dom-module>
